(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{470:function(s,t,a){s.exports=a.p+"assets/img/servlet01.3a5d3124.png"},518:function(s,t,a){"use strict";a.r(t);var e=a(16),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"c-s-架构-b-s架构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#c-s-架构-b-s架构"}},[s._v("#")]),s._v(" C/S 架构 B/S架构")]),s._v(" "),e("blockquote",[e("p",[s._v("C/S和B/S是两种软件的架构方式")])]),s._v(" "),e("h3",{attrs:{id:"c-s-client-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#c-s-client-server"}},[s._v("#")]),s._v(" C/S (Client/Server)")]),s._v(" "),e("ul",[e("li",[s._v("特点: 必须在客户端安装特定软件")]),s._v(" "),e("li",[s._v("优点: 图像显示效果好")]),s._v(" "),e("li",[s._v("服务器: 服务器的软件和功能升级,客户端必须已经更新,不利于维护")])]),s._v(" "),e("h3",{attrs:{id:"b-s-browser-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#b-s-browser-server"}},[s._v("#")]),s._v(" B/S (Browser/Server)")]),s._v(" "),e("ul",[e("li",[s._v("特点: 无需客户端,浏览器即可")]),s._v(" "),e("li",[s._v("优点: 涉及升级功能只需更新服务端")]),s._v(" "),e("li",[s._v("缺点: 图像显示效果不如C/S")]),s._v(" "),e("li",[s._v("需要通过HTTP协议访问")])]),s._v(" "),e("h2",{attrs:{id:"servlet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#servlet"}},[s._v("#")]),s._v(" Servlet")]),s._v(" "),e("blockquote",[e("p",[s._v("Servlet:Applet，服务端的程序(代码,功能实现)。交互式的处理客户端发"),e("code",[s._v("送到服务器请求")]),s._v(",完成响应操作")]),s._v(" "),e("p",[s._v("Servlet 是一个 Java Web开发标准，狭义的Servlet是指Java语言实现的一个接口，广义的Servlet是指任何实现了这个Servlet接口的类，一般情况下，人们将Servlet理解为后者。")])]),s._v(" "),e("h3",{attrs:{id:"概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[s._v("#")]),s._v(" 概念")]),s._v(" "),e("blockquote",[e("p",[s._v("动态Web")]),s._v(" "),e("p",[s._v("JavaWeb的基础，JavaEE的一个组成部分")])]),s._v(" "),e("h3",{attrs:{id:"作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[s._v("#")]),s._v(" 作用")]),s._v(" "),e("blockquote",[e("p",[s._v("接收客户端，完成操作。")]),s._v(" "),e("p",[s._v("动态生成Web")]),s._v(" "),e("p",[s._v("将包含操作结果的动态Web响应给客户端")])]),s._v(" "),e("h2",{attrs:{id:"核心接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#核心接口"}},[s._v("#")]),s._v(" 核心接口")]),s._v(" "),e("h3",{attrs:{id:"servlet接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#servlet接口"}},[s._v("#")]),s._v(" Servlet接口")]),s._v(" "),e("p",[s._v("在Servlet API中最重要的是Servlet接口，所有Servlet都会直接或者间接的与这个接口发生联系，或是直接实现该接口，或间接继承自实现了该类的接口，该接口包括了以下5个方法：")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("init")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletConfig")]),s._v(" var1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletConfig")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getServletConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletRequest")]),s._v(" var1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletResponse")]),s._v(" var2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getServletInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("destroy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("ol",[e("li",[s._v("第一次访问Servlet时，服务器创建Servlet对象，调用init()，再调用service()")]),s._v(" "),e("li",[s._v("第二次访问时，Servlet对象已经存在，不再创建，执行service()")]),s._v(" "),e("li",[s._v("当服务器停止，会释放Servlet，调用destory()")])]),s._v(" "),e("h3",{attrs:{id:"genericservlet抽象类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#genericservlet抽象类"}},[s._v("#")]),s._v(" GenericServlet抽象类")]),s._v(" "),e("p",[s._v("GenericServlet使编写Servlet变得更容易。它提供生命周期方法init和destory的简单实现")]),s._v(" "),e("p",[s._v("在这个类中，它简单实现除过service()的其余四个方法，简化了开发步骤")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HelloServlet")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenericServlet")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" service "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletRequest")]),s._v(" servletRequest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletResponse")]),s._v(" servletResponse"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        \n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"httpservlet类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#httpservlet类"}},[s._v("#")]),s._v(" HttpServlet类")]),s._v(" "),e("p",[s._v("它继承了GenericServlet，HttpServlet的子类至少得重写1个方法，通常是以下之一")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("doGet")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("doPost")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("doPut")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("doDelete")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"servlet生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#servlet生命周期"}},[s._v("#")]),s._v(" Servlet生命周期")]),s._v(" "),e("p",[s._v("Servlet 生命周期可被定义为从创建直到毁灭的整个过程。以下是 Servlet 遵循的过程：")]),s._v(" "),e("ul",[e("li",[s._v("Servlet 通过调用 init () 方法进行初始化。")]),s._v(" "),e("li",[s._v("Servlet 调用 service() 方法来处理客户端的请求。")]),s._v(" "),e("li",[s._v("Servlet 通过调用 destroy() 方法终止（结束）。")]),s._v(" "),e("li",[s._v("Servlet 是由 JVM 的垃圾回收器进行垃圾回收的。")])]),s._v(" "),e("h3",{attrs:{id:"init"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#init"}},[s._v("#")]),s._v(" init()")]),s._v(" "),e("p",[s._v("init() 方法被设计成只调用一次。它在"),e("code",[s._v("第一次")]),s._v("创建 Servlet 时被调用，在后续每次用户请求时不再调用。因此，它是用于一次性初始化")]),s._v(" "),e("p",[s._v("Servlet 创建于用户第一次调用对应于该 Servlet 的 URL 时，但也可以指定 Servlet 在服务器第一次启动时被加载")]),s._v(" "),e("p",[s._v("当用户调用一个 Servlet 时，就会创建一个 Servlet 实例，每一个用户请求都会产生一个新的线程，")]),s._v(" "),e("p",[s._v("适当的时候移交给 doGet 或 doPost 方法。init() 方法简单地创建或加载一些数据，这些数据将被用于 Servlet 的整个生命周期。")]),s._v(" "),e("p",[s._v("init 方法的定义如下：")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("init")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 初始化代码...")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[s._v("#")]),s._v(" service()")]),s._v(" "),e("p",[s._v("service() 方法是执行实际任务的主要方法。Servlet 容器（即 Web 服务器）调用 service() 方法来处理来自客户端（浏览器）的请求，并把格式化的响应写回给客户端。")]),s._v(" "),e("p",[s._v("每次服务器接收到一个 Servlet 请求时，服务器会产生一个新的线程并调用服务。service() 方法检查 HTTP 请求类型（GET、POST、PUT、DELETE 等），并在适当的时候调用 doGet、doPost、doPut，doDelete 等方法。")]),s._v(" "),e("p",[s._v("下面是该方法的特征：")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletRequest")]),s._v(" request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletResponse")]),s._v(" response"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("service() 方法由容器调用，service 方法在适当的时候调用 doGet、doPost、doPut、doDelete 等方法。所以不用对 service() 方法做任何动作，只需要根据来自客户端的请求类型来重写 doGet() 或 doPost() 即可。")]),s._v(" "),e("p",[s._v("doGet() 和 doPost() 方法是每次服务请求中最常用的方法。")]),s._v(" "),e("h3",{attrs:{id:"doget"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#doget"}},[s._v("#")]),s._v(" doGet()")]),s._v(" "),e("p",[s._v("GET 请求来自于一个 URL 的正常请求，或者来自于一个未指定 METHOD 的 HTML 表单，它由 doGet() 方法处理。")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("doGet")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Servlet 代码")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"dopost"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dopost"}},[s._v("#")]),s._v(" doPost()")]),s._v(" "),e("p",[s._v("POST 请求来自于一个特别指定了 METHOD 为 POST 的 HTML 表单，它由 doPost() 方法处理。")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("doPost")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Servlet 代码")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"destroy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#destroy"}},[s._v("#")]),s._v(" destroy()")]),s._v(" "),e("p",[s._v("destroy() 方法只会被调用"),e("code",[s._v("一次")]),s._v("，在 Servlet 生命周期结束时被调用。destroy() 方法可以让您的 Servlet 关闭数据库连接、停止后台线程、把 Cookie 列表或点击计数器写入到磁盘，并执行其他类似的清理活动。")]),s._v(" "),e("blockquote",[e("p",[s._v("在调用 destroy() 方法之后，servlet 对象被标记为垃圾回收。destroy 方法定义如下所示：")])]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("destroy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 终止化代码...")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"get-post"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-post"}},[s._v("#")]),s._v(" Get & Post")]),s._v(" "),e("h3",{attrs:{id:"get"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[s._v("#")]),s._v(" Get")]),s._v(" "),e("ul",[e("li",[s._v("get提交的数据会在URL之后，以"),e("code",[s._v("?分割")]),s._v("和传输数据，参数之间以"),e("code",[s._v("&相连")])]),s._v(" "),e("li",[s._v("get方式"),e("code",[s._v("明文传递")]),s._v("，数据量小，由于是明文，所以"),e("code",[s._v("不安全")])]),s._v(" "),e("li",[e("code",[s._v("效率高")]),s._v("，因为数据量小且以字符串拼接传输，浏览器"),e("code",[s._v("默认传输是get请求")])]),s._v(" "),e("li",[s._v("对应的Servlet的方法是doGet")])]),s._v(" "),e("h3",{attrs:{id:"post"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[s._v("#")]),s._v(" Post")]),s._v(" "),e("ul",[e("li",[s._v("post方法是把提交的数据放在HTTP包中的Body中")]),s._v(" "),e("li",[e("code",[s._v("密文传递")]),s._v("数据，数据量大，"),e("code",[s._v("安全")])]),s._v(" "),e("li",[s._v("效率没get高")]),s._v(" "),e("li",[s._v("对应的Servlet的方法是doPost")])]),s._v(" "),e("h2",{attrs:{id:"转发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转发"}},[s._v("#")]),s._v(" 转发")]),s._v(" "),e("blockquote",[e("p",[s._v("转发的作用在服务器端，将请求发送给服务器上的其它资源，以共同完成一次请求的处理")])]),s._v(" "),e("h3",{attrs:{id:"页面跳转"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面跳转"}},[s._v("#")]),s._v(" 页面跳转")]),s._v(" "),e("blockquote",[e("p",[s._v("在调用业务逻辑的servlet中，编写以下代码")])]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[s._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRequestDispatcher")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/目标URL-pattern"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("forward")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("resp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("使用forward跳转时，是在服务器内部跳转，地址栏不发生变化，属于同一次请求。")]),s._v(" "),e("h3",{attrs:{id:"数据传递"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据传递"}},[s._v("#")]),s._v(" 数据传递")]),s._v(" "),e("p",[s._v("forward表示一次请求，是在服务器内部跳转，可以共享同一次request作用域中的数据。")]),s._v(" "),e("ul",[e("li",[s._v("request作用域：拥有存储数据的空间，作用范围是"),e("code",[s._v("一次请求")]),s._v("有效（一次请求可以经过多次转发）")])]),s._v(" "),e("ol",[e("li",[s._v("可以将数据存入request后，在一次请求过程中的"),e("code",[s._v("任何位置")]),s._v("进行获取")]),s._v(" "),e("li",[s._v("可以传递"),e("code",[s._v("任何数据")]),s._v("（基本数据类型，对象，数组，集合等）")])]),s._v(" "),e("ul",[e("li",[s._v("存数据：request.setAttribute(key,value);")])]),s._v(" "),e("ol",[e("li",[s._v("以"),e("code",[s._v("键值对")]),s._v("形式存储在request作用域中，key为"),e("code",[s._v("String")]),s._v("类型，value为"),e("code",[s._v("Object")]),s._v("类型")])]),s._v(" "),e("ul",[e("li",[s._v("取数据：request.getAttribute(key);")])]),s._v(" "),e("ol",[e("li",[s._v("通过String类型的key访问Object类型的value")])]),s._v(" "),e("h3",{attrs:{id:"转发特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转发特点"}},[s._v("#")]),s._v(" 转发特点")]),s._v(" "),e("ul",[e("li",[s._v("转发是"),e("code",[s._v("服务器")]),s._v("行为")]),s._v(" "),e("li",[s._v("转发是浏览器只做了"),e("code",[s._v("一次访问")]),s._v("请求")]),s._v(" "),e("li",[s._v("转发浏览器地址"),e("code",[s._v("不变")])]),s._v(" "),e("li",[s._v("转发两次跳转之间传输的信息"),e("code",[s._v("不会丢失")]),s._v("，所以可以通过request进行数据的传递")]),s._v(" "),e("li",[s._v("转发只能将请求转发给"),e("code",[s._v("同一个")]),s._v("web应用中的组件")])]),s._v(" "),e("h2",{attrs:{id:"重定向"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重定向"}},[s._v("#")]),s._v(" 重定向")]),s._v(" "),e("blockquote",[e("p",[s._v("重定向作用在客户端，客户端将请求发送给服务端后，服务器响应给客户端一个新的请求地址，客户端重新发送新请求。")])]),s._v(" "),e("h3",{attrs:{id:"页面跳转-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面跳转-2"}},[s._v("#")]),s._v(" 页面跳转")]),s._v(" "),e("blockquote",[e("p",[s._v("在调用业务逻辑的servlet中，编写以下代码")])]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[s._v("response"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendRedirect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"目标URL"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("URL:统一资源标识符（Uniform Resource Identifier）,用来表示服务器中定位一个资源，资源在web项目中的路径。")]),s._v(" "),e("h3",{attrs:{id:"数据传递-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据传递-2"}},[s._v("#")]),s._v(" 数据传递")]),s._v(" "),e("p",[s._v("sendRedirect跳转时，地址栏改变，代表客户端重新发送的请求，属于两次请求。")]),s._v(" "),e("ul",[e("li",[s._v("response没有作用域，两次request请求中的数据无法共享")]),s._v(" "),e("li",[s._v('传递数据：通过URL的拼接进行数据传递（"/webProject/b?username="tom"）;')]),s._v(" "),e("li",[s._v('获取数据：request.getParameter("username");')])]),s._v(" "),e("h3",{attrs:{id:"重定向特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重定向特点"}},[s._v("#")]),s._v(" 重定向特点")]),s._v(" "),e("ul",[e("li",[s._v("重定向是客户端行为")]),s._v(" "),e("li",[s._v("重定向是浏览器做了至少两次的访问请求")]),s._v(" "),e("li",[s._v("重定向浏览器地址改变")]),s._v(" "),e("li",[s._v("重定向两次跳转之间传输的信息会丢失（request范围）")]),s._v(" "),e("li",[s._v("重定向可以指向任何的资源，包括当前应用程序中的其他资源，同一个站点上的其他应用程序中的资源，其他站点的资源。")])]),s._v(" "),e("h3",{attrs:{id:"转发-重定向总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转发-重定向总结"}},[s._v("#")]),s._v(" 转发，重定向总结")]),s._v(" "),e("blockquote",[e("p",[s._v("当两个Servlet需要传递数据时，选择forward转发，不建议使用sendRedirect进行传递")])]),s._v(" "),e("h2",{attrs:{id:"状态管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#状态管理"}},[s._v("#")]),s._v(" 状态管理")]),s._v(" "),e("blockquote",[e("p",[s._v("HTTP协议是无状态的，不能保存每次提交的信息")]),s._v(" "),e("p",[s._v("如果用户发来一个新的请求，服务器无法知道它是否与上次的请求有联系")])]),s._v(" "),e("h3",{attrs:{id:"概念-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概念-2"}},[s._v("#")]),s._v(" 概念")]),s._v(" "),e("p",[s._v("将浏览器与Web服务器之间多次交互当作一个整体处理，并且将多次交互所涉及的数据保存下来")]),s._v(" "),e("h3",{attrs:{id:"分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分类"}},[s._v("#")]),s._v(" 分类")]),s._v(" "),e("ul",[e("li",[s._v("客户端状态管理技术：将状态保存在客户端，代表性：Cookie技术")]),s._v(" "),e("li",[s._v("服务器状态管理技术：将状态保存在服务端。代表性：Session技术（服务器传递Session时需要Cookie的方式）和application")])]),s._v(" "),e("h2",{attrs:{id:"cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" Cookie")]),s._v(" "),e("ul",[e("li",[s._v("Cookie是在浏览器访问Web服务器的某个资源时，由Web服务器在HTTP响应头中附带传递给浏览器的一小段数据")]),s._v(" "),e("li",[s._v("一旦Web浏览器保存了某个Cookie，那么它以后每次访问该Web服务器时，都应在HTTP请求头中将这个Cookie回传给Web服务器")]),s._v(" "),e("li",[s._v("一个Cookie主要是由标识该信息的名称(name)和值(value)组成")])]),s._v(" "),e("h3",{attrs:{id:"创建cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建cookie"}},[s._v("#")]),s._v(" 创建Cookie")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建Cookie")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),s._v(" cookie "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"code"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ncookie"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setPath")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/webs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置Cookie路径")]),s._v("\ncookie"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setMaxAge")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//内存存储，取值有三种，>0有效期，单位秒，=0浏览器关闭；<0内存存储，默认-1")]),s._v("\nresp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("addCookie")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cookie"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//添加到response对象中，响应时发送给客户端")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//注意: 有效路径: 当前访问资源的上一级目录，不带主机名")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"cookie编码与解码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie编码与解码"}},[s._v("#")]),s._v(" Cookie编码与解码")]),s._v(" "),e("p",[s._v("Cookie默认不支持中文，只支持ASCII字符，所以Cookie需要对Unicode字符进行编码，否则会出现乱码。")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[s._v("编码可以使用"),e("span",{pre:!0,attrs:{class:"token class-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("URLEncoder")]),s._v("类的"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("encode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" encoding"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("方法\n解码使用"),e("span",{pre:!0,attrs:{class:"token class-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("URLDecoder")]),s._v("类的"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" encoding"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("方法\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("编码")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),s._v(" cookie "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URLEncoder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("encode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"用户名:"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URLEncoder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("encode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"密码:"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("解码")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCookies")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),s._v(" cc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCookies")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" cookieName "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URLDecoder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" cookieValue "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URLDecoder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Cookie已经写入客户端，请刷新页面"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("h3",{attrs:{id:"cookie优点-缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie优点-缺点"}},[s._v("#")]),s._v(" Cookie优点&缺点")]),s._v(" "),e("p",[s._v("优点")]),s._v(" "),e("ul",[e("li",[s._v("可以配置到期规则")]),s._v(" "),e("li",[s._v("简单性：Cookie是一种基于文本的轻量结构，包含键值对")]),s._v(" "),e("li",[s._v("数据持久性：Cookie默认过期之前可以一直存储在客户端浏览器上")])]),s._v(" "),e("p",[s._v("缺点")]),s._v(" "),e("ul",[e("li",[s._v("大小受到限制：大多数浏览器对Cookie的大小有4k，8k字节的限制")]),s._v(" "),e("li",[s._v("用户配置为禁用:有些用户禁用了浏览器或客户端设备接收Cookie的能力，因此限制了这一功能")]),s._v(" "),e("li",[s._v("潜在的安全风险:Cookie可能会被篡改。会对安全性造成潜在风险或者导致依赖于Cookie的应用程序失败")])]),s._v(" "),e("h2",{attrs:{id:"session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[s._v("#")]),s._v(" Session")]),s._v(" "),e("ul",[e("li",[s._v("Session用于记录用户的状态。Session指的是在一段时间内，单个客户端与Web服务器的一连串相关的交互过程。")]),s._v(" "),e("li",[s._v("在一个Session中，客户可能会多次请求访问同一个资源，也有可能请求访问各种不同的服务器资源。")])]),s._v(" "),e("h3",{attrs:{id:"session原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session原理"}},[s._v("#")]),s._v(" Session原理")]),s._v(" "),e("p",[s._v("Session是由服务端创建的。")]),s._v(" "),e("p",[s._v("服务器会为每一次会话分配一个Session对象")]),s._v(" "),e("p",[s._v("同一个浏览器发起的多次请求，同属于一次会话(Session)")]),s._v(" "),e("p",[s._v("首次使用到Session时，服务器会自动创建Session，并创建Cookie存储SessionId发送回客户端")]),s._v(" "),e("h3",{attrs:{id:"获取session"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取session"}},[s._v("#")]),s._v(" 获取Session")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpSession")]),s._v(" session"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("request"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSession")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Id："')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("session"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//唯一标记，")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"session保存数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session保存数据"}},[s._v("#")]),s._v(" Session保存数据")]),s._v(" "),e("p",[s._v("setAttribute(属性名,Object)保存数据到session中")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[s._v("session"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//以键值对形式存储在session作用域中。")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"session获取数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session获取数据"}},[s._v("#")]),s._v(" Session获取数据")]),s._v(" "),e("p",[s._v("getAttribute(属性名);获取session中数据")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[s._v("session"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//通过String类型的key访问Object类型的value")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"session移除数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session移除数据"}},[s._v("#")]),s._v(" Session移除数据")]),s._v(" "),e("p",[s._v("removeAttribute(属性名);从session中删除数据")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[s._v("session"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//通过键移除session作用域中的值")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"session与request应用区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session与request应用区别"}},[s._v("#")]),s._v(" Session与Request应用区别")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("request是一次请求有效，请求改变，则request改变")])]),s._v(" "),e("li",[e("p",[s._v("session是一次会话有效，浏览器改变，则session改变")])])]),s._v(" "),e("h3",{attrs:{id:"session的生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session的生命周期"}},[s._v("#")]),s._v(" Session的生命周期")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("开始：第一次使用到Session的请求产生，则创建Session")])]),s._v(" "),e("li",[e("p",[s._v("结束：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("浏览器关闭，则失效")])]),s._v(" "),e("li",[e("p",[s._v("Session超时，则失效")]),s._v(" "),e("ul",[e("li",[s._v("session.setMaxInactiveInterval(seconds); 设置最大有效时间(单位：秒)")])])]),s._v(" "),e("li",[e("p",[s._v("手工销毁，则失效")]),s._v(" "),e("ul",[e("li",[s._v("session.invalidate(); 登录退出、注销")])])])])])]),s._v(" "),e("h3",{attrs:{id:"session失效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session失效"}},[s._v("#")]),s._v(" Session失效")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[s._v("session"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setMaxInactiveInterval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置session最大有效期为一小时")]),s._v("\n​\nsession"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("invalidate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//手工销毁")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"servletcontext"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#servletcontext"}},[s._v("#")]),s._v(" ServletContext")]),s._v(" "),e("p",[s._v("全局对象，拥有作用域，对应一个Tomcat的Web应用，当Web服务器启动时，会为每一个Web应用程序创建一块共享的存储区域（ServletContext）。")]),s._v(" "),e("p",[s._v("ServletContext在Web服务器启动时创建，服务器关闭时销毁")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("唯一性")])]),s._v(" "),e("li",[e("p",[s._v("只要容器不关闭，ServletContext就一直存在")])])]),s._v(" "),e("h3",{attrs:{id:"获取servletcontex对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取servletcontex对象"}},[s._v("#")]),s._v(" 获取ServletContex对象")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//GenericServlet")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getServletContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//HttpServletRequest")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getServletContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//HttpSession")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getServletContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"servletcontext全局容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#servletcontext全局容器"}},[s._v("#")]),s._v(" ServletContext全局容器")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//存储数据")]),s._v("\nservletContext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取数据")]),s._v("\nservletContext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//移除数据")]),s._v("\nservletContext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h2",{attrs:{id:"作用域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作用域"}},[s._v("#")]),s._v(" 作用域")]),s._v(" "),e("ul",[e("li",[s._v("HttpServletRequest： 一次请求，请求之前有效")]),s._v(" "),e("li",[s._v("HttpSession：一次会话开始，浏览器不关闭或者不超时之前有效")]),s._v(" "),e("li",[s._v("ServletContext：服务器启动开始，服务器停止之前有效")])]),s._v(" "),e("h2",{attrs:{id:"过滤器链"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#过滤器链"}},[s._v("#")]),s._v(" 过滤器链")]),s._v(" "),e("p",[s._v("客户端对服务器请求后，服务器调用Servlet之前会先执行多个过滤器，多个或者这组过滤器称为一条"),e("code",[s._v("过滤器链")])]),s._v(" "),e("p",[s._v("每个过滤器实现某个特定功能，当第一个Filter的doFilter方法被调用，Web服务器会创建一个代表Filter链的FilterChain对象传递给该方法")]),s._v(" "),e("p",[s._v("在doFilter方法中，开发人员如果调用了FilterChain的doFilter方法，则Web服务器会检查FilterChain对象中是否还会有"),e("code",[s._v("filter")]),s._v("，如果有，则调用"),e("code",[s._v("第二个filter")]),s._v("，如果没，则调用"),e("code",[s._v("目标资源")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(470),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"过滤器优先级"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#过滤器优先级"}},[s._v("#")]),s._v(" 过滤器优先级")]),s._v(" "),e("p",[s._v("同一个Web应用可以开发多个Filter，组合起来称为一个Filter链，优先级如下")]),s._v(" "),e("ul",[e("li",[s._v("如果为注解，是按照全类名称"),e("code",[s._v("字符串顺序")]),s._v("决定作用顺序")]),s._v(" "),e("li",[s._v("如果web.xml，按照filter-mapping注册顺序，从"),e("code",[s._v("上往下")])]),s._v(" "),e("li",[s._v("web.xml配置 > 注解配置")]),s._v(" "),e("li",[s._v("如果同时配置注解和xml，会创建多个过滤器对象，造成"),e("code",[s._v("多次过滤")])])]),s._v(" "),e("h3",{attrs:{id:"解决过滤器编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决过滤器编码"}},[s._v("#")]),s._v(" 解决过滤器编码")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//在doFilter方法中")]),s._v("\nservletRequest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCharacterEncoding")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nservletResponse"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setContentType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text/html;character=utf-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nfilterChain"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("doFilter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("servletRequest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("servletResponse"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);