---
title: Servlet
date: 2022-01-10 21:34:00
permalink: /pages/e14d95/
categories:
  - 文章
tags:
  - JavaWeb
---

## C/S 架构 B/S架构

> C/S和B/S是两种软件的架构方式

### C/S (Client/Server)

- 特点: 必须在客户端安装特定软件
- 优点: 图像显示效果好
- 服务器: 服务器的软件和功能升级,客户端必须已经更新,不利于维护

### B/S (Browser/Server)

- 特点: 无需客户端,浏览器即可
- 优点: 涉及升级功能只需更新服务端
- 缺点: 图像显示效果不如C/S
- 需要通过HTTP协议访问

## Servlet

> Servlet:Applet，服务端的程序(代码,功能实现)。交互式的处理客户端发`送到服务器请求`,完成响应操作
> 
> Servlet 是一个 Java Web开发标准，狭义的Servlet是指Java语言实现的一个接口，广义的Servlet是指任何实现了这个Servlet接口的类，一般情况下，人们将Servlet理解为后者。


### 概念

> 动态Web
> 
> JavaWeb的基础，JavaEE的一个组成部分

### 作用

> 接收客户端，完成操作。
> 
> 动态生成Web
> 
> 将包含操作结果的动态Web响应给客户端

## Servlet生命周期

Servlet 生命周期可被定义为从创建直到毁灭的整个过程。以下是 Servlet 遵循的过程：

- Servlet 通过调用 init () 方法进行初始化。
- Servlet 调用 service() 方法来处理客户端的请求。
- Servlet 通过调用 destroy() 方法终止（结束）。
- Servlet 是由 JVM 的垃圾回收器进行垃圾回收的。


### init()

init() 方法被设计成只调用一次。它在`第一次`创建 Servlet 时被调用，在后续每次用户请求时不再调用。因此，它是用于一次性初始化

Servlet 创建于用户第一次调用对应于该 Servlet 的 URL 时，但也可以指定 Servlet 在服务器第一次启动时被加载

当用户调用一个 Servlet 时，就会创建一个 Servlet 实例，每一个用户请求都会产生一个新的线程，

适当的时候移交给 doGet 或 doPost 方法。init() 方法简单地创建或加载一些数据，这些数据将被用于 Servlet 的整个生命周期。

init 方法的定义如下：

```java
public void init() throws ServletException {
  // 初始化代码...
}
```

### service()

service() 方法是执行实际任务的主要方法。Servlet 容器（即 Web 服务器）调用 service() 方法来处理来自客户端（浏览器）的请求，并把格式化的响应写回给客户端。

每次服务器接收到一个 Servlet 请求时，服务器会产生一个新的线程并调用服务。service() 方法检查 HTTP 请求类型（GET、POST、PUT、DELETE 等），并在适当的时候调用 doGet、doPost、doPut，doDelete 等方法。

下面是该方法的特征：

```java
public void service(ServletRequest request,ServletResponse response) throws ServletException, IOException{

}
```

service() 方法由容器调用，service 方法在适当的时候调用 doGet、doPost、doPut、doDelete 等方法。所以不用对 service() 方法做任何动作，只需要根据来自客户端的请求类型来重写 doGet() 或 doPost() 即可。

doGet() 和 doPost() 方法是每次服务请求中最常用的方法。

#### doGet()方法

GET 请求来自于一个 URL 的正常请求，或者来自于一个未指定 METHOD 的 HTML 表单，它由 doGet() 方法处理。

```java
public void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException {
    // Servlet 代码
}
```


